{% extends 'ZenezorejBaseBundle:Default:base.html.twig' %}

{% block stylesheets %}
	{{ parent() }}
	
	<style>
		#form-container {
			max-width: 300px;
			margin: 2em auto 0;
			padding: 1em;
			background: gray;
		}

		.white-popup {
		  position: relative;
		  background: #FFF;
		  width: 300px;
		  margin: 20px auto;
		  padding: 1em;
		}

		#new-topic {
			margin-top: 1em;
			margin-bottom: 1em;
		}

		.form-buttons {
			margin-top: 1em;
		}

		.message-item {
			color: black;
			padding: 0.5em;
			margin-bottom: 0.5em;
		}

		.message-content {
			background: #a692a7;
			padding: 0.2em;
			-webkit-box-shadow: 5px 5px 5px 2px rgba(50, 50, 50, 0.6);
			box-shadow: 5px 5px 5px 2px rgba(50, 50, 50, 0.6);
		}
 	</style>
{% endblock %}

{% block body %}


<div class="row main-content">
	<div class="row-fluid">
		<div class="col-sm-4 offset1">
			<a href="#test-popup" class="open-popup-link btn btn-default" id="new-topic">Új topic létrehozása</a>
			<div class="list-group">
				{% for row in topics %}
					{% if row.id == 1 %}
					<a href="{{ path('connection_homepage',{ 'topicId': row.id }) }}" class="list-group-item active">{{ row.name }} </a>
					{% else %}
					<a href="{{ path('connection_homepage',{ 'topicId': row.id }) }}" class="list-group-item">{{ row.name }} </a>
					{% endif %}
	    		{% endfor %}
			</div>
			{% for row in topics %}
	        	<!--<div class="event-item">
	        		<div class="event-content">
						<a href="{{ path('connection_homepage',{ 'topicId': row.id }) }}">{{ row.name }} </a>
					</div>
				</div>-->
	    	{% endfor %}
		</div>

		<div class="col-sm-6">
			{% for row in messages %}
	        	<div class="message-item">
	        		<div class="message-content">
	        			{{ row.user.userName }} <br>
						{{ row.content }}
					</div>
				</div>
	    	{% endfor %}
		</div>
	
		<div id="test-popup" class="white-popup mfp-hide">
			{{ form_errors(topicForm) }}
			{{ form(topicForm) }}
			<!--<label for="topic-title">Cím&nbsp;</label><input id="topic-title" type="text" name="title"/>
			<div class="form-buttons">
				<button type="button" class="btn btn-default" id="forum-close">Megnyit</button>
				<button type="button" class="btn btn-default" id="forum-close">Mégse</button>
			</div>-->
		</div>
	</div>
</div>

{% endblock %}

{% block javascripts %}
	{{ parent() }}
	
	<script type="text/javascript">

		$('.open-popup-link').magnificPopup({
		  type:'inline',
		  midClick: true, // Allow opening popup on middle mouse click. Always set it to true if you don't provide alternative source in href.
		  modal: true
		});


		$('#forum-close').click(function() {
			$.magnificPopup.close();
		})

	</script>   
{% endblock %}